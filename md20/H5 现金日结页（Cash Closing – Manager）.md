H5 现金日结页（Cash Closing – Manager）

Wireframe · Text Version

一、页面定位（非常关键）

页面类型：强制确认页

使用时间：下班前

使用频率：每天 1 次

页面原则：
👉 系统算钱，人只负责确认

二、整体结构（允许轻微滚动）
┌──────────────────────────────┐
│ 顶部：页面标题               │
├──────────────────────────────┤
│ 今日收款总览（系统计算）     │
├──────────────────────────────┤
│ 现金对账（核心填写区）       │
├──────────────────────────────┤
│ 差额说明（条件显示）         │
├──────────────────────────────┤
│ 提交交账（固定底部）         │
└──────────────────────────────┘

三、顶部区域（Header）
← 返回      💸 现金日结


❌ 不允许切换日期

❌ 不允许查看历史

❌ 不允许修改流水

这个页面永远只代表“今天”

四、今日收款总览（系统计算 · 只读）
模块标题
📊 今日收款汇总

展示结构（卡片或列表）
现金收入：        8,500,000
现金支出：        1,200,000
———————————————
理论现金：        7,300,000


数据来源：
transactions

payment_method = cash

status != void

date = today

重要约束

❌ 不可编辑

❌ 不可点进流水详情（避免分心）

✅ 强调「这是系统算的」

五、现金对账区（⭐ 核心填写区）
模块标题
🧮 现金对账

UI 结构
实盘现金（必填）：
[ 请输入现金金额 ]


填写后，实时显示：

系统现金： 7,300,000
实盘现金： 7,000,000
———————————————
差额：     -300,000

交互规则

实盘现金：

只能输入数字

不允许负数

差额：

系统自动算

不可手改

六、差额说明（条件显示 · 强约束）
显示条件
当 差额 ≠ 0 时，才显示

UI 结构
✏️ 差额说明（必填）
[ 输入说明 ]

占位提示文案（非常重要）

如：找零错误 / 顾客未付清 / 临时垫付

规则

差额 = 0 → 不显示

差额 ≠ 0 且未填写 → 禁止提交

七、提交交账（固定底部）
[ ✅ 提交今日交账 ]

按钮状态规则
状态	行为
未填写实盘现金	禁用
差额≠0且无说明	禁用
正在提交	loading
条件满足	可点击
八、提交后的系统行为（必须一致）

提交成功后：

显示提示：

✔ 今日现金已提交，等待审核


日结状态：

cash_closings.status = submitted

跳转：

返回【店长首页】

首页现金卡状态：

🟡 已提交待审核

九、明确禁止的行为（一定要拦）

❌ 修改系统计算金额

❌ 回填昨天 / 前天

❌ 重复提交同一天

❌ 提交后再编辑

十、异常兜底提示（建议）

如果系统检测到：

今日存在现金流水

但未提交日结

可在首页提示：

⚠ 今日现金未日结
请在下班前完成交账

十一、验收标准（真实可操作）

让一个完全没培训的店长：

看一眼系统算的钱

数现金

填数字

提交