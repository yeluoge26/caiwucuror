最小重构 Checklist（Navigation & Layout）

适用范围：

现有 caiwucuror 项目

原生 PHP MVC

先优化 店长 H5，再铺 PC 多级导航

一、重构总原则（必须遵守）

❌ 不新增 Controller 逻辑

❌ 不改 Model

❌ 不改数据库

✅ 只改：

View

Layout

导航结构

✅ 所有页面 URL 保持不变

二、H5 端最小重构 Checklist（优先级最高）
✅ H5-1：移除顶部“功能型导航”

 检查 H5 Layout 中的顶部导航

 删除 / 隐藏：

流水

报表

设置

排班

 顶部只保留：

返回按钮（←）

页面标题

👉 顶部 = 方向，不再承载功能

✅ H5-2：新增底部 Tab（4 个）

固定 4 个，不增不减：

 🏠 首页（Manager Dashboard）

 🔍 巡店

 💸 现金

 👤 我的

实施要点：

 使用独立的 h5_bottom_nav.php

 每个 Tab 只跳一个“一级页面”

 高亮当前 Tab

👉 H5 所有功能只能从这 4 个入口进入

✅ H5-3：首页作为唯一默认入口

 登录成功后：

店长 → /manager/dashboard

 禁止默认跳转到：

流水列表

报表页

👉 首页 = 今日待办，不是数据列表

✅ H5-4：限制 H5 可访问页面（软约束）

 在 H5 Layout 中隐藏以下入口：

分类管理

支付方式

用户管理

系统设置

 即使 URL 可访问，也不在 UI 中出现

👉 不是权限问题，是使用场景问题

三、PC 端最小重构 Checklist（第二优先级）
✅ PC-1：引入侧边栏 Layout（只包一层）

 新增 layout_sidebar.php

 所有 PC 页面 include 该 layout

 原顶部导航可保留或简化

👉 先解决“太长列表”的问题

✅ PC-2：一级菜单分组（不拆页面）

只做分组，不改链接

 📊 概览

 💰 财务管理

 🧑‍💼 门店管理

 📋 排班与任务

 ⚙️ 系统设置

👉 只是视觉分组，不动路由

✅ PC-3：二级菜单折叠显示

 一级菜单默认可折叠

 当前模块自动展开

 非当前模块默认收起

👉 防止“菜单拉到很长”

四、页面归属检查（非常重要）

每改一个导航项，对照勾选一次

财务相关页面

 流水列表 → 💰 财务管理

 现金日结 → 💰 财务管理

 报表 → 💰 财务管理

管理相关页面

 巡店填写 → H5 🔍 巡店

 巡店审核 → 🧑‍💼 门店管理

 问题记录 → 🧑‍💼 门店管理

排班相关页面

 周排班 → 📋 排班与任务

 排班调整 → 📋 排班与任务

设置类页面

 分类管理 → ⚙️ 系统设置

 支付方式 → ⚙️ 系统设置

 供应商 → ⚙️ 系统设置

五、UI 约束 Checklist（防止“又乱回去”）
❌ 明确禁止

 H5 顶部再加功能入口

 H5 底部 Tab 超过 4 个

 PC 左侧一级菜单超过 5 组

 H5 页面出现“配置类功能”

✅ 强制要求

 H5 所有高频操作 ≤2 次点击

 PC 所有功能 ≤3 次点击可达

 首页卡片必须可点击

六、验收 Checklist（上线前 10 分钟自测）
店长（H5）

 打开即看到：首页

 3 秒内能找到：巡店 / 现金

 不可能误点到“设置”

老板 / 财务（PC）

 左侧菜单不超过一屏

 能直达：巡店审核 / 交账审核

 不需要记 URL

七、最小重构的“完成标志”

当你能非常肯定地说出一句话：

“这个系统，用手机的是在干活，用电脑的是在管理。”